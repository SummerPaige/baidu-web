
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件冒泡和冒泡阻止</title>
</head>
<body>
    <div id="parent" style="background-color: #000;height: 400px;width: 400px" data-id="parent">
        <div id="child" style="background-color: #fff;height: 200px;width: 200px" data-id="child">
            
        </div>
   </div>
   <script>
    /*document.getElementById('parent').onclick=function () {
        console.log(this.getAttribute('data-id'));
         };

      document.getElementById('child').onclick=function () {
        console.log(this.getAttribute('data-id'));//点击子元素也触发父元素。即使不给子元素添加事件时，点击子元素也会触发父元素。
         }; 
     */

    /*
    document.getElementById('parent').onkeydown=function () {
        console.log(this.getAttribute('data-id'));
    };
    document.getElementById('child').onclick=function () {
        console.log(this.getAttribute('data-id'));
    };
    */
    document.getElementById('parent').onclick=function () {
        console.log(this.getAttribute('data-id'));
    };

    document.getElementById('child').onclick=function (ev) {
        var e = ev||window.event;
        //<span style="color:#FF0000;">IE中event可以通过windowevent随时取到，而其他浏览器需要通过参数传递</span>
        console.log(this.getAttribute('data-id'));
        stopPropagation(e);
    };

    function stopPropagation(e) {//事件阻止函数。
        if (e.stopPropagation) {
            e.stopPropagation();
        } else {
            e.cancelBubble = true;
        }
    }


   </script>
</body>
</html>























 

